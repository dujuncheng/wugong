(function(e){function t(t){for(var r,o,i=t[0],l=t[1],c=t[2],p=0,g=[];p<i.length;p++)o=i[p],n[o]&&g.push(n[o][0]),n[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(g.length)g.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==n[l]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={app:0},s=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/wugong/home/dist/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var r=a("64a9"),n=a.n(r);n.a},1977:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("img",{attrs:{alt:"Vue logo",src:a("cf05")}}),r("HelloWorld")],1)},s=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("h1",[e._v("欢迎来到wugong发布管理系统")]),a("div",{staticClass:"top-container"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.project,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),a("el-button",{attrs:{type:"primary"},on:{click:e.handleCreateBranch}},[e._v("创建分支")]),e.loadingBranch?a("img",{staticClass:"loadingBranch",attrs:{src:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1547402653549&di=7af100875d9d454d4d1522c0be6d30be&imgtype=0&src=http%3A%2F%2Fspider.nosdn.127.net%2F2964c767d5798be6c8f83739fb5689b9.gif",alt:""}}):e._e(),e.branch&&e.branch.length>0?a("div",[e._v("请复制分支名进行开发："),a("span",{staticClass:"color-blue"},[e._v(e._s(e.branch))])]):e._e()],1),a("div",{staticClass:"middle-container"},[a("el-button",{attrs:{type:"success"},on:{click:e.handleSetPrepare}},[e._v("上预发布")]),e.loadingPrepare?a("img",{staticClass:"loadingBranch",attrs:{src:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1547402653549&di=7af100875d9d454d4d1522c0be6d30be&imgtype=0&src=http%3A%2F%2Fspider.nosdn.127.net%2F2964c767d5798be6c8f83739fb5689b9.gif",alt:""}}):e._e(),e.loadingPrepare?a("span",[e._v(" 请稍等3分钟，需要拉取你的代码，重装依赖，编译打包 ")]):e._e(),!e.loadingPrepare&&e.cookie?a("span",[e._v(" 请使用cookie 为 "+e._s(e.cookie)+",访问 http://118.24.193.194 ")]):e._e()],1),a("div",{staticClass:"bottom-container"},[a("el-button",{attrs:{type:"info"},on:{click:e.handleSetRegular}},[e._v("上正式环境")]),e.loadingRegular?a("img",{staticClass:"loadingBranch",attrs:{src:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1547402653549&di=7af100875d9d454d4d1522c0be6d30be&imgtype=0&src=http%3A%2F%2Fspider.nosdn.127.net%2F2964c767d5798be6c8f83739fb5689b9.gif",alt:""}}):e._e(),e.loadingRegular?a("span",[e._v(" 请稍等1分钟，需要复制到正式环境 ")]):e._e(),e.regular&&!e.loadingRegular?a("span",[e._v(e._s(e.regular))]):e._e()],1),a("el-dialog",{attrs:{title:"注意",visible:e.showPrepareDialog,width:"30%"},on:{"update:visible":function(t){e.showPrepareDialog=t}}},[a("span",[e._v("请确保已经把代码提交到"+e._s(e.branch)+"}")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showPrepareDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmSetPrepare}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"注意",visible:e.showRegularDialog,width:"30%"},on:{"update:visible":function(t){e.showRegularDialog=t}}},[a("span",[e._v("请确保预发已经验证，将会直接影响线上用户")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showRegularDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmSetRegular}},[e._v("确 定")])],1)])],1)},i=[],l=(a("96cf"),a("3b8d")),c=a("7f43"),u={name:"HelloWorld",data:function(){return{branch:"",cookie:"",regular:"",showPrepareDialog:!1,showRegularDialog:!1,loadingBranch:!1,loadingPrepare:!1,loadingRegular:!1,selected:"",project:[{value:"项目1 - wugong_project_1",label:"wugong_project_1"}]}},props:{},methods:{confirmSetPrepare:function(){this.showPrepareDialog=!1,this.setPrepare()},confirmSetRegular:function(){this.showRegularDialog=!1,this.setRegular()},setPrepare:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.branch){e.next=3;break}return this.$message({message:"还没有新建分支，请先新建一条分支哦",type:"warning"}),e.abrupt("return");case 3:return this.loadingPrepare=!0,t={method:"post",url:"http://118.24.193.194:83/wugong_serve?method=set_prepare",data:{project_name:"wugong_project_1",branch:this.branch}},e.prev=5,e.next=8,c(t);case 8:a=e.sent.data,this.loadingPrepare=!1,a&&a.success||this.$message({message:a.message||"网络错误，请求失败"}),a.data&&(this.loadingPrepare=!1,this.cookie=a.data.cookie),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](5),this.$message({message:e.t0.message||"网络错误，请求失败"});case 17:case"end":return e.stop()}},e,this,[[5,14]])}));function t(){return e.apply(this,arguments)}return t}(),setRegular:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.branch){e.next=3;break}return this.$message({message:"还没有新建分支，请先新建一条分支哦",type:"warning"}),e.abrupt("return");case 3:return this.loadingRegular=!0,t={method:"post",url:"http://118.24.193.194:83/wugong_serve?method=set_regular",data:{project_name:"wugong_project_1",branch:this.branch}},e.prev=5,e.next=8,c(t);case 8:a=e.sent.data,this.loadingRegular=!1,a&&a.success||this.$message({message:a.message||"网络错误，请求失败"}),this.regular="部署到正式, master合并",e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](5),this.$message({message:e.t0.message||"网络错误，请求失败"});case 17:case"end":return e.stop()}},e,this,[[5,14]])}));function t(){return e.apply(this,arguments)}return t}(),handleSetPrepare:function(){this.branch&&0!==this.branch.length?this.showPrepareDialog=!0:this.$message({message:"还没有新建分支，请先新建一条分支哦",type:"warning"})},handleSetRegular:function(){this.branch&&0!==this.branch.length?this.showRegularDialog=!0:this.$message({message:"还没有新建分支，请先新建一条分支哦",type:"warning"})},handleCreateBranch:function(){var e=this;this.loadingBranch=!0,this.branch="",c({method:"post",url:"http://118.24.193.194:83/wugong_serve?method=create_branch",data:{project_name:"wugong_project_1"}}).then(function(t){t=t.data,console.log(t),t&&t.success&&(e.loadingBranch=!1,e.branch=t.data.branch)})}}},p=u,g=(a("f776"),a("2877")),d=Object(g["a"])(p,o,i,!1,null,"781af53e",null);d.options.__file="HelloWorld.vue";var h=d.exports,f={name:"app",components:{HelloWorld:h}},b=f,m=(a("034f"),Object(g["a"])(b,n,s,!1,null,null,null));m.options.__file="App.vue";var v=m.exports,_=a("4587"),w=a.n(_);a("cd2e");r["default"].use(w.a),r["default"].config.productionTip=!1,new r["default"]({render:function(e){return e(v)}}).$mount("#app")},"64a9":function(e,t,a){},cf05:function(e,t,a){e.exports=a.p+"img/logo.82b9c7a5.png"},f776:function(e,t,a){"use strict";var r=a("1977"),n=a.n(r);n.a}});
//# sourceMappingURL=app.4586903a.js.map